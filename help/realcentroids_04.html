<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1250">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="LibreOffice 4.1.6.2 (Windows)">
	<META NAME="AUTHOR" CONTENT="Zoltan Siki">
	<META NAME="CREATED" CONTENT="20131230;100514000000000">
	<META NAME="CHANGEDBY" CONTENT="Zoltán Siki">
	<META NAME="CHANGED" CONTENT="20140524;172000781000000">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 21.59cm 27.94cm; margin-left: 2cm; margin-right: 2cm; margin-top: 1.52cm; margin-bottom: 2cm }
		P { margin-bottom: 0.21cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Liberation Sans", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "DejaVu Sans"; font-size: 16pt }
		H1.ctl { font-family: "Lohit Devanagari"; font-size: 16pt }
		H2 { margin-bottom: 0.21cm }
		H2.western { font-family: "Liberation Sans", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-family: "DejaVu Sans"; font-size: 14pt; font-style: italic }
		H2.ctl { font-family: "Lohit Devanagari"; font-size: 14pt; font-style: italic }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" DIR="LTR">
<H1 CLASS="western" ALIGN=CENTER><IMG SRC="realcentroids_04_html_95bc9d34.png" NAME="graphics1" ALIGN=LEFT WIDTH=31 HEIGHT=32 BORDER=0>Real
Centroids V0.4 
</H1>
<H2 CLASS="western" ALIGN=JUSTIFY STYLE="font-style: normal; font-weight: normal">
<FONT FACE="Liberation Serif, serif"><FONT SIZE=3>RealCentroids
plugin creates a point shape file with internal points of a polygon
shape, similar to PostGIS ST_PointOnSurface. The point will be inside
the polygon in all cases. Not only the points are created but the
attributes are also copied from the polygon to the internal points .
A single point is generated for multipart geometry too.</FONT></FONT></H2>
<H2 CLASS="western">Installation</H2>
<P>Use the plugin manager or unzip the downloaded realcentroids.zip
into your plugins directory, e.g. ~/.qgis2/python/plugins/.</P>
<H2 CLASS="western">Usage</H2>
<P ALIGN=JUSTIFY>Enable the plugin in the <I>Plugins/Manage and
Install Plugins ...</I> dialog. Open the polygon layer you want to
create centroids. Start the plugin clicking on the icon in the
plugins toolbar or select it from the plugins menu. The following
dialog appears</P>
<P ALIGN=JUSTIFY><IMG SRC="realcentroids_04_html_7ca905b9.png" NAME="graphics2" ALIGN=LEFT WIDTH=391 HEIGHT=223 BORDER=0><BR CLEAR=LEFT>In
the <I>Polygon layer</I> list you can select one from the loaded
polygon layers. If the active layer is a polygon layer then it will
be selected in the list. Select a new shapefile clicking on the
<I>Browse</I> button, . If you select an existing shapefile, you get
a warning weather to overwrite that shape. If you check <I>Add to map
canvas</I> the point shape with the internal points is added to the
current project. The attributes of the polygons are also copied to
the target point shape file. If <I>Polygon layer</I> or <I>Output
point on surface layer</I> is empty, a warning will be displayed.</P>
<P ALIGN=JUSTIFY>Why do we need such plugin? There is a P<I>olygon
centroids</I> option in the <I>Vector/Geometry Tools</I> menu.  This
will create centroids at the weight point of the vertexes of the
polygon. So it can be outside the polygon in a concave or multipart
case. Realcentroid will place the point always inside the polygon.
See figures below to compare the results of the two methods.</P>
<P ALIGN=CENTER><IMG SRC="realcentroids_04_html_b7839b6.png" NAME="graphics3" ALIGN=LEFT WIDTH=635 HEIGHT=404 BORDER=0><BR CLEAR=LEFT>Centroids
(weight points) created by Vector/Geometry Tools/Polygon centroids</P>
<P ALIGN=CENTER><IMG SRC="realcentroids_04_html_6728e816.png" NAME="graphics4" ALIGN=LEFT WIDTH=630 HEIGHT=434 BORDER=0><BR CLEAR=LEFT>Points
on surface generated by RealCentroids plugin</P>
<H2 CLASS="western">Algorithm used</H2>
<P>For each polygons the weight point is generated first. If the
weight point is outside, the intersection of the horizontal line
through the weight point and the polygon is generated. The midpoint
of the longest line segment from the intersection result will be
used. See the figure below.</P>
<P>For multipart polygons the algorithm is used for the largest part.</P>
<P ALIGN=CENTER><IMG SRC="realcentroids_04_html_5d03d490.png" NAME="graphics5" ALIGN=LEFT WIDTH=665 HEIGHT=294 BORDER=0><BR CLEAR=LEFT>Internal
point generation</P>
<P><BR><BR>
</P>
<P>Thanks to Seal Phone, Jukka Rahkonen and ozak (github) giving
advices to improve the plugin.</P>
<DIV TYPE=FOOTER>
	<P ALIGN=CENTER STYLE="margin-top: 0.5cm; margin-bottom: 0cm"><SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>3</SDFIELD></P>
</DIV>
</BODY>
</HTML>